{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"../../../node_modules/@angular/core\";\nlet TerminateComponent = class TerminateComponent {\n  ngOnInit() {\n    this.terminateState = TerminateState.Undecided;\n    let token = this.route.snapshot.queryParams[\"token\"];\n    this.params = JSON.parse(atob(token));\n    this.translateService.get(\"TerminateUndecided_WillRemove\").subscribe(res => {\n      this.terminateUndecided = res.replace(\"{0}\", `<span class=\"text--fat\">${this.params.email}</span>`);\n    });\n  }\n  constructor(translateService, dataService, apiClientService, route) {\n    this.translateService = translateService;\n    this.dataService = dataService;\n    this.apiClientService = apiClientService;\n    this.route = route;\n    this.TerminateState = TerminateState;\n    this.terminateState = TerminateState.Undecided;\n    this.terminateState = TerminateState.Undecided;\n  }\n  terminate() {\n    this.apiClientService.delete(\"v2/users/\" + this.params.guid + \"?token=\" + encodeURIComponent(this.params.token)).then(resp => {\n      this.terminateState = TerminateState.Terminated;\n    }).catch(resp => {\n      if (resp.status == 404) {\n        this.translateService.get(\"UserNotFoundException\").subscribe(res => alert(res));\n      } else {\n        this.translateService.get(\"WoopsContactSupport\").subscribe(res => alert(res));\n      }\n    });\n  }\n  cancelTerminate() {\n    this.terminateState = TerminateState.CancelledTermination;\n  }\n};\nTerminateComponent = __decorate([Component({\n  selector: 'terminate',\n  templateUrl: '../html/terminate.component.html',\n  styleUrls: ['../css/terminate.component.css'],\n  encapsulation: ViewEncapsulation.None\n})], TerminateComponent);\nexport { TerminateComponent };\nexport var TerminateState;\n(function (TerminateState) {\n  TerminateState[TerminateState[\"Undecided\"] = 0] = \"Undecided\";\n  TerminateState[TerminateState[\"Terminated\"] = 1] = \"Terminated\";\n  TerminateState[TerminateState[\"CancelledTermination\"] = 2] = \"CancelledTermination\";\n})(TerminateState || (TerminateState = {}));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}