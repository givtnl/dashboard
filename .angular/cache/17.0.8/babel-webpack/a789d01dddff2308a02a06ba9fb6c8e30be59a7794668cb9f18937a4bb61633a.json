{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from \"@angular/core\";\nimport { environment } from \"environments/environment\";\nimport * as pkg from '../../../package.json';\nimport { Headers } from \"@angular/http\";\nlet LoggingService = class LoggingService {\n  constructor(dataService, http) {\n    this.dataService = dataService;\n    this.http = http;\n    this.logitUrl = \"https://api.logit.io/v2\";\n  }\n  log(level, message) {\n    let headers = new Headers();\n    headers.append('ApiKey', environment.logstashApiKey);\n    headers.append('Content-Type', 'application/json');\n    let body = new LogitBody();\n    body.level = LogLevel[level];\n    body.version = pkg[\"version\"];\n    body.browser = navigator.userAgent;\n    body.lang = navigator.language;\n    if (this.dataService.getData(\"CurrentCollectGroup\")) body.guid = JSON.parse(this.dataService.getData(\"CurrentCollectGroup\")).GUID;\n    body.tag = environment.logstashTag;\n    body.message = message;\n    const json = JSON.stringify(body);\n    return this.http.put(this.logitUrl, json, {\n      headers\n    }).toPromise();\n  }\n  error(message) {\n    this.log(LogLevel.Error, message);\n  }\n  info(message) {\n    this.log(LogLevel.Information, message);\n  }\n  warning(message) {\n    this.log(LogLevel.Warning, message);\n  }\n};\nLoggingService = __decorate([Injectable()], LoggingService);\nexport { LoggingService };\nclass LogitBody {}\nexport var LogLevel;\n(function (LogLevel) {\n  LogLevel[LogLevel[\"Information\"] = 0] = \"Information\";\n  LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n  LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\n})(LogLevel || (LogLevel = {}));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}