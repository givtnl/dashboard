{"ast":null,"code":"import { HttpParams, HttpHeaders } from '@angular/common/http';\nimport { getApiUrl } from './helpers/api-url.helper';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class CollectSchedulerService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = getApiUrl() + '/api/collectgroups/';\n    this.apiV2Url = getApiUrl() + '/api/v2/collectgroups/';\n  }\n  getAll(collectGroupId, pageSize, pageNumber) {\n    var queryParams = new HttpParams();\n    queryParams = queryParams.set('pageSize', pageSize.toString());\n    queryParams = queryParams.set('pageNumber', pageNumber.toString());\n    return this.http.get(`${this.apiUrl}${collectGroupId}/allocations`, {\n      params: queryParams\n    });\n  }\n  createAllocation(collectGroupId, command) {\n    return this.http.post(`${this.apiUrl}${collectGroupId}/allocations`, command);\n  }\n  updateAllocation(collectGroupId, allocationId, command) {\n    return this.http.put(`${this.apiUrl}${collectGroupId}/allocations/${allocationId}`, command);\n  }\n  deleteAllocation(collectGroupId, allocationId) {\n    return this.http.delete(`${this.apiUrl}${collectGroupId}/allocations/${allocationId}`);\n  }\n  deleteAllocations(collectGroupId, allocationIds) {\n    //ty oude angular -_-'\n    const options = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      }),\n      body: {\n        collectGroupId,\n        ids: allocationIds\n      }\n    };\n    return this.http.delete(`${this.apiUrl}${collectGroupId}/allocations`, options);\n  }\n  getAllActiveAccounts(collectGroupId) {\n    return this.http.get(`${this.apiV2Url}${collectGroupId}/organisation/accounts`).map(bankAccounts => bankAccounts.filter(bankAccount => bankAccount.Active));\n  }\n  static #_ = this.ɵfac = function CollectSchedulerService_Factory(t) {\n    return new (t || CollectSchedulerService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CollectSchedulerService,\n    factory: CollectSchedulerService.ɵfac\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}