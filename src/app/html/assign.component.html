<my-alert></my-alert>
<div class="global-layout">
    <my-navigation></my-navigation>
    <div class="global-layout-content">
        <div class="csv-popup-info" *ngIf="showCsvPopup">
            <svg *ngIf="!csvError" class="csv-success-mark" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" height="47" width="47">
                <defs>
                    <ellipse id="ellipse-0" opacity="1" rx="23.5" ry="23.5" cx="23.5" cy="23.5" />
                    <path id="path-1" opacity="1" d="M35.53727094953628,13.444522943329847 C34.691533617009554,12.61124642451396 33.321629301221826,12.60908456557209 32.477842357470024,13.439959018897014 L20.15845545925503,25.57831656439233 L15.589913552590787,21.07708604087232 C14.74661420603272,20.245971380998302 13.376709890244985,20.248373446489264 12.53048496052453,21.08213037840335 L11.317830739715099,22.276917753609524 C10.47184960859151,23.110434478974508 10.469411622622856,24.46015507834795 11.312954767777788,25.29126973822197 L18.62179290321123,32.49194146048887 C19.046246260354216,32.91014106246594 19.603326054192085,33.11695890123806 20.16016204943309,33.113596009550704 C20.715779051689758,33.11623828159077 21.2716398525433,32.908940029720455 21.695361813895687,32.49146104739067 L36.755044940879884,17.653662303148465 C37.59834428743795,16.82254764327445 37.59688149585676,15.473307456999201 36.750168968942575,14.63955052508512 L35.53727094953628,13.444522943329847Z" />
                </defs>
                <g transform="translate(0, 0) " opacity="1">
                    <g transform="translate(0, 0) ">
                        <use xlink:href="#ellipse-0" fill="rgb(65,201,142)" fill-opacity="1" />
                    </g>
                    <g transform="translate(0, 0) ">
                        <use xlink:href="#path-1" fill="rgb(255,255,255)" fill-opacity="1" />
                    </g>
                </g>
            </svg>
            <svg *ngIf="csvError" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                height="48" width="48">
                <defs>
                    <ellipse id="ellipse-0" opacity="1" rx="24" ry="24" cx="24" cy="24" />
                    <path id="path-1" opacity="1" d="M31.27987579009734,29.02705551949748 L25.49955501720231,23.246734746602456 L31.27987579009734,17.46641397370743 C31.90393798686472,16.84235177694005 31.90393798686472,15.837655899874832 31.27987579009734,15.21359370310745 C30.655813593329956,14.58953150634007 29.651117716264743,14.58953150634007 29.027055519497363,15.21359370310745 L23.246734746602336,20.99391447600248 L17.46641397370731,15.21359370310745 C16.842351776939932,14.58953150634007 15.837655899874717,14.58953150634007 15.213593703107337,15.21359370310745 C14.589531506339956,15.83765589987483 14.589531506339956,16.842351776940045 15.213593703107337,17.46641397370743 L20.993914476002363,23.246734746602456 L15.213593703107337,29.02705551949748 C14.589531506339956,29.651117716264864 14.589531506339956,30.65581359333008 15.213593703107337,31.27987579009746 C15.837655899874717,31.90393798686484 16.842351776939932,31.90393798686484 17.46641397370731,31.27987579009746 L23.246734746602336,25.499555017202432 L29.027055519497363,31.27987579009746 C29.651117716264743,31.90393798686484 30.65581359332996,31.90393798686484 31.27987579009734,31.27987579009746 C31.899512013838002,30.655813593330077 31.899512013838002,29.646691743238144 31.27987579009734,29.02705551949748Z" />
                </defs>
                <g transform="translate(0, 0) " opacity="1">
                    <g transform="translate(0, 0) ">
                        <use xlink:href="#ellipse-0" fill="rgb(213,61,76)" fill-opacity="1" />
                    </g>
                    <g transform="translate(0, 0) " opacity="1">
                        <g transform="translate(0, 0) " opacity="1">
                            <g transform="translate(0, 0) ">
                                <use xlink:href="#path-1" fill="rgb(255,255,255)" fill-opacity="1" />
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
            <p>{{this.csvFileName}}</p>
            <svg (click)="closePopup()" style='cursor:pointer' class="csv-popup-close" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" height="25.789246432142136" width="25.789246432143045">
                <defs>
                    <path id="path-0" opacity="1" d="M25.07931208092531,21.662228537007625 L16.31170675998871,12.894623216071022 L25.07931208092531,4.127017895134421 C26.025891215880947,3.1804387601787854 26.025891215880947,1.6565134861721935 25.07931208092531,0.7099343512165567 C24.13273294596967,-0.2366447837390796 22.60880767196308,-0.2366447837390796 21.662228537007447,0.7099343512165567 L12.894623216070848,9.47753967215316 L4.12701789513425,0.7099343512165567 C3.180438760178614,-0.2366447837390796 1.6565134861720225,-0.2366447837390796 0.7099343512163859,0.7099343512165567 C-0.23664478373925008,1.6565134861721926 -0.23664478373925008,3.180438760178784 0.7099343512163859,4.127017895134421 L9.477539672152986,12.894623216071022 L0.7099343512163859,21.662228537007625 C-0.23664478373925008,22.608807671963262 -0.23664478373925008,24.132732945969856 0.7099343512163859,25.079312080925487 C1.6565134861720217,26.025891215881124 3.1804387601786126,26.025891215881124 4.12701789513425,25.079312080925487 L12.894623216070848,16.311706759988883 L21.662228537007447,25.079312080925487 C22.608807671963085,26.025891215881124 24.13273294596968,26.025891215881124 25.07931208092531,25.079312080925487 C26.01917788868268,24.13273294596985 26.01917788868268,22.602094344764993 25.07931208092531,21.662228537007625Z" />
                </defs>
                <g transform="translate(0, 0) " opacity="1">
                    <g transform="translate(0, 0) " opacity="1">
                        <g transform="translate(0, 0) ">
                            <use xlink:href="#path-0" fill="rgb(44,43,87)" fill-opacity="1" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div class="csv-popup-overlay" *ngIf="showCsvPopup">

        </div>
        <my-titlebar></my-titlebar>
        <div class="section-page bottom-flex">

            <div class="schedule">
                <h2>{{ "TitleAllocate" | translate }}</h2>
                <table class="assign-csv-table">
                    <tbody>
                        <tr>
                            <td></td>
                            <td>
                                <div *ngIf="hasOpenAllocation" class="mobile-flex">
                                    <span style="font-family: Avenir_Medium; font-size: 17px;">{{'AssignOpenCollectes'
                                        | translate}}</span>

                                    <span class="mobile-calendar__arrow mobile-calendar__arrow--right mobile-calendar__arrow--dark mobile-visible"></span>
                                </div>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                            </td>
                            <td>
                                <div *ngIf="hasOpenAllocation" class="assign__button" style="text-align: center;">

                                    <div class="wrapping_inputlist">
                                        <input (focus)="allCollectTyping = true" (focusout)="onFocusOutWeek()"
                                            (ngModelChange)="allCollectNameChanging($event)" class="allocation__input"
                                            type="text" name="allocationWeekName" [(ngModel)]="allocateWeekName" />
                                        <ul *ngIf="allCollectTyping" class="schedule__dialog__form__list">
                                            <li *ngFor="let item of filteredUsedTags" class="schedule__dialog__form__listitem"
                                                [innerHTML]="item" (click)="setWeekName(item)">yoo
                                            </li>
                                        </ul>
                                        <button [disabled]="allocateWeekName === ''" class="assign-green-button"
                                            (click)="allocateWeek()"></button>
                                    </div>
                                </div>
                            </td>
                            <td class="csv-cell">
                                <div class="upload-csv">
                                    <input type="file" style="display:none;" (change)="fileChange($event)" id="inputfile"
                                        accept=".csv" />
                                    <a class="upload-csv-button btn-csv" (click)="startUpload()">Upload
                                        CSV
                                        <i class="fas fa-upload" style="margin-left: 10px; margin-top: -2px;"></i>
                                    </a>
                                    <a class="csv-download-example" (click)="downloadExampleCSV()">{{"DownloadExample"
                                        | translate}}</a>
                                    <!-- <button class="upload-csv-button" (click)="uploadCSV()" [disabled]="addedAllocations.length == 0" [class.ui-state-disabled]="addedAllocations.length == 0">Upload CSV</button>
                                <input class="input-csv-file" type="file" (change)="fileChange($event)" placeholder="Upload csv" accept=".csv"> -->

                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p-schedule #calendar [events]="events" locale="locale" [nowIndicator]="false" [header]="headerConfig"
                    [editable]="true" [options]="options" id="calendar"></p-schedule>
            </div>
            <aside class="sidebar-collection" *ngIf="isDialogOpen">
                <div class="sidebar-csv-box" *ngIf="selectedCSV">
                    <span class="sidebar-csv-box-header">
                        <p class="sidebar-csv-box-title">{{ "AllocationsAddedTitle" | translate }}</p>
                        <svg (click)="closeCSVBox()" style='cursor: pointer;' class="csv-popup-close" width="19px"
                            height="19px" viewBox="0 0 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink">
                            <!-- Generator: Sketch 49.1 (51147) - http://www.bohemiancoding.com/sketch -->
                            <desc>Created with Sketch.</desc>
                            <defs></defs>
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Artboard" transform="translate(-10.000000, -6.000000)" fill="#000000">
                                    <rect id="Rectangle-3" transform="translate(19.545942, 15.545942) rotate(45.000000) translate(-19.545942, -15.545942) "
                                        x="7.04594155" y="14.5459415" width="25" height="2" rx="1"></rect>
                                    <rect id="Rectangle-3" transform="translate(19.545942, 15.545942) rotate(-45.000000) translate(-19.545942, -15.545942) "
                                        x="7.04594155" y="14.5459415" width="25" height="2" rx="1"></rect>
                                </g>
                            </g>
                        </svg>
                    </span>
                    <div class="sidebar-csv-box-inner">
                        <ul class="csv-list">

                            <li *ngFor="let item of addedAllocations" [class.upload-csv-error]="item.errorMsg"
                                [class.upload-csv-uploaded]="item.uploaded">
                                <div class="csv-box-item">
                                    <p>
                                        <span>
                                            {{item.name}}
                                        </span>
                                        <br />{{item.dtBeginString}} - {{item.dtEndString}}
                                        <br />{{item.errorMsg || "AllocationAdded"|translate }}
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="schedule__dialog sidebar-collection-popup" *ngIf="selectedCard">

                    <div class="list-collections">
                        <button style="background: none;border:none;position: absolute;top:1px;right:1px;margin: 0;padding: 10px;cursor:  pointer;"
                            (click)="closeDialog()">

                            <svg width="19px" height="19px" viewBox="0 0 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                <!-- Generator: Sketch 49.1 (51147) - http://www.bohemiancoding.com/sketch -->
                                <desc>Created with Sketch.</desc>
                                <defs></defs>
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="Artboard" transform="translate(-10.000000, -6.000000)" fill="#000000">
                                        <rect id="Rectangle-3" transform="translate(19.545942, 15.545942) rotate(45.000000) translate(-19.545942, -15.545942) "
                                            x="7.04594155" y="14.5459415" width="25" height="2" rx="1"></rect>
                                        <rect id="Rectangle-3" transform="translate(19.545942, 15.545942) rotate(-45.000000) translate(-19.545942, -15.545942) "
                                            x="7.04594155" y="14.5459415" width="25" height="2" rx="1"></rect>
                                    </g>
                                </g>
                            </svg>
                        </button>
                        <ng-container>
                            <div style="margin-top: 6px;">
                                <span class="text" *ngIf="!cardIsSingleDay">
                                    {{showDate(selectedCard.dtBegin)}} {{'To' | translate}} {{showDate(selectedCard.dtEnd)}}
                                </span>
                                <span class="text" *ngIf="cardIsSingleDay">
                                    {{showDate(selectedCard.dtBegin)}}
                                </span>

                                <div style="margin-top:15px; margin-bottom: 30px" class="flex-col">
                                    <span style="margin-left: 0" class="text">{{'From' | translate}}</span>
                                    <p-calendar [(ngModel)]="selectedCard.dtBegin" (ngModelChange)="changedTimePicker($event, this.selectedCard.dtBegin)" showTime="showTime" [timeOnly]="true"
                                        name="startTime" [stepMinute]="10" class="time-picker"></p-calendar>
                                    <span class="text">{{'To' | translate}}</span>
                                    <p-calendar [(ngModel)]="selectedCard.dtEnd" (ngModelChange)="changedTimePicker($event, this.selectedCard.dtEnd)" showTime="showTime" [timeOnly]="true"
                                        name="endTime" [stepMinute]="10"></p-calendar>
                                </div>
                                <span *ngIf="selectedCard.Collects.length > 0" class="tab__element" (click)="currentTab = SelectedTab.Collects"
                                    [class.tab__element--active]="currentTab == SelectedTab.Collects">{{
                                    "Menu_Collectes" | translate}}</span>
                                <span *ngIf="selectedCard.Fixed.length > 0" class="tab__element" (click)="currentTab = SelectedTab.Fixed"
                                    [class.tab__element--active]="currentTab == SelectedTab.Fixed">{{"FixedPoints" |
                                    translate}}</span>
                            </div>
                            <div *ngIf="allocLoader['show']" class="alloc-loader" [style.height.px]="selectedCard.Collects.length * 71">
                                <svg class="circular" style="width: 65%; height: 65%" viewBox="25 25 50 50" >
                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10"/>
                                  </svg>
                            </div>
                            <ng-container *ngIf="currentTab == SelectedTab.Collects">
                                <ng-container *ngFor="let alloc of selectedCard.Collects">
                                    <div style="padding: 15px;">
                                        <div style="height: 40px;margin-left: 10px;display:flex;">
                                            <div class="wrapping_inputlist" style="display: flex;">
                                                <input (focus)="alloc.isTyping=true" (focusout)="onFocusOutOf(alloc);"
                                                    autocomplete="off" class="info-table__input"
                                                    [class.input-border-green]="alloc.name != ''"
                                                    (ngModelChange)="this.filterTags($event)"
                                                    type="text" name="collectName{{alloc.collectId}}" [(ngModel)]="alloc.allocationName"
                                                    placeholder="{{ 'Collection' | translate }} {{ alloc.collectId }}">
                                                <ul *ngIf="alloc.isTyping" class="schedule__dialog__form__list">
                                                    <li *ngFor="let item of filteredUsedTags" class="schedule__dialog__form__listitem"
                                                        (click)="setCollectName(item, alloc)" [innerHTML]="item"></li>
                                                </ul>
                                            </div>
                                            <span class="alloc-givt-count">
                                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-prefix="fas"
                                                    data-icon="user" class="svg-inline--fa fa-user fa-w-14" role="img"
                                                    viewBox="0 0 448 512">
                                                    <path fill="#2e2957" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z" /></svg>
                                                <span>{{ alloc.numberOfTransactions }}</span>
                                            </span>
                                            <span class="alloc-givt-count alloc-giftAid-count" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                <svg width="27px" height="24px" viewBox="0 0 27 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                    <g id="IN5_Mijn-gegevens" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <g id="Gift-Aid-geel" transform="translate(1.000000, 1.000000)">
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="15.5" rx="12" ry="6.5"></ellipse>
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="12" cy="10.5" rx="12" ry="6.5"></ellipse>
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="6.5" rx="12" ry="6.5"></ellipse>
                                                            <path d="M15.8882821,7.57991632 C17.2117668,6.44518828 17.2937526,5.27029289 16.4504703,4.54728033 C15.5993799,3.81757322 14.2290462,3.81757322 13.389668,4.54728033 C13.2296006,4.68451883 13.1007658,4.83514644 12.9992596,4.99246862 C12.8977534,4.83514644 12.7689186,4.68451883 12.6088511,4.54728033 C11.7694729,3.82761506 10.3991393,3.82761506 9.55585699,4.54728033 C8.70476656,5.27029289 8.78675234,6.44518828 10.110237,7.57991632 L12.878233,9.95983264 C12.9055615,9.9832636 12.9524106,10 12.9992596,10 C13.0461086,10 13.0812453,9.9832636 13.1202862,9.95983264 L15.8882821,7.57991632 Z" id="heart" fill="#EDA52E"></path>
                                                        </g>
                                                    </g>
                                                </svg>
                                                <span>{{ alloc.giftAidExtraCount }}</span>
                                            </span>
                                            <button style="cursor:pointer;background: #2E2957; border:0;margin-left: auto;display:  flex;justify-content:  center;"
                                                class="icon" [class.fill-green]="alloc.showDetails" (click)="showAllocDetails(alloc)">

                                                <svg width="23px" height="23px" viewBox="8 8 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                    xmlns:xlink="http://www.w3.org/1999/xlink">
                                                    <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->
                                                    <desc>Created with Sketch.</desc>
                                                    <defs></defs>
                                                    <path d="M9.00761688,21.0025814 C9.53265354,26.5888828 14.2352667,30.9603199 19.9588837,30.9603199 C22.6363805,30.9603199 25.090446,30.0036964 26.9979399,28.4135896 L19.5869317,21.0025814 L9.00761688,21.0025814 Z M9,19.0025814 C9.45855668,13.6859391 13.6990295,9.4505879 19.0179464,9 L19.0179464,19.0018685 C19.0177045,19.0021045 19.0174628,19.0023406 19.0172212,19.0025769 L9,19.0025814 Z M28.4121534,26.9993761 C30.0022602,25.0918822 30.9588837,22.6378167 30.9588837,19.9603199 C30.9588837,14.2424422 26.5962091,9.54352172 21.0179464,9.01064508 L21.0179464,19.5461063 C21.0179464,19.5653854 21.0174008,19.5845372 21.0163242,19.6035469 L28.4121534,26.9993761 Z"
                                                        id="Combined-Shape" stroke="none" fill="#FFFFFF " fill-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        <table class="incasso-state-table" *ngIf="alloc.showDetails">
                                            <tr [class.incasso-state-table__row--disabled]="alloc.toProcessTotal == 0">
                                                <td>
                                                    <span class="bullet bullet--blue"></span>
                                                </td>
                                                <td>{{ "Processing" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.toProcess) }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.processedTotal == 0">
                                                <td>
                                                    <span class="bullet bullet--green"></span>
                                                </td>
                                                <td>{{ "Processed" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.processed) }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.refusedBank == 0">
                                                <td>
                                                    <span class="bullet bullet--red"></span>
                                                </td>
                                                <td>{{"CancelledByBank" | translate}}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.refusedByBank)
                                                    }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.cancelByGiver == 0">
                                                <td>
                                                    <span class="bullet bullet--grey"></span>
                                                </td>
                                                <td>{{ "CancelledByUser" | translate}}</td>
                                                <td class="info-table-cell--money">{{
                                                    displayValue(alloc.cancelledByUser) }}
                                                </td>
                                            </tr>
                                            <tr class="incasso-state-table__row--em incasso-state-table__row--em_giftaid" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                <td>+</td>   
                                                <td>{{ "GiftAid" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.giftAidExtraSum) }}
                                                </td>
                                            </tr>
                                            <tr class="incasso-state-table__row--em">
                                                <td></td>
                                                <td>{{ "Text_Fee_Total" | translate}}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.total) }}
                                                </td>
                                            </tr>
                                        </table>
                                    </div>

                                </ng-container>
                                <div *ngIf="currentTab == SelectedTab.Collects && selectedCard.Collects.length > 0" class="dialog-button-container">
                                    <button class="action-button" [class.action-button__disabled]="!allowSave" [disabled]="!allowSave" (click)="saveAllEvents()"><i class="fas fa-check"></i> 
                                        {{ selectedCard.Collects.length == 1 ? ('SaveAllocation.one' | translate) : ('SaveAllocation.other'| translate) }}</button>
                                    <button class="action-button action-button__secundary" [class.action-button__disabled]="!allowDelete" [disabled]="!allowDelete" (click)="deleteAllEvents()"><i class="fas fa-eraser"></i>
                                        {{ selectedCard.Collects.length == 1 ? ('CancelAllocation.one' | translate) : ('CancelAllocation.other'| translate) }}</button>
                                </div>
                            </ng-container>
                            <ng-container *ngIf="currentTab == SelectedTab.Fixed">
                                <ng-container *ngFor="let alloc of selectedCard.Fixed">
                                    <div *ngIf="alloc.amountOfGivts != 0" style="padding: 15px;">
                                        <div style="height: 40px;display: flex;margin-left: 10px;">
                                            <div class="wrapping_inputlist" style="display: flex; width: calc(50% + 2px);">
                                                <span style="align-self: center;font-family: Avenir_Heavy; font-size: 18px;">{{alloc.allocationName}}</span>
                                            </div>
                                            <span class="alloc-givt-count">
                                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-prefix="fas"
                                                    data-icon="user" class="svg-inline--fa fa-user fa-w-14" role="img"
                                                    viewBox="0 0 448 512">
                                                    <path fill="#2e2957" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z" /></svg>
                                                <span>{{ alloc.numberOfTransactions }}</span>
                                            </span>
                                            <span class="alloc-givt-count alloc-giftAid-count" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                <svg width="27px" height="24px" viewBox="0 0 27 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                    <g id="IN5_Mijn-gegevens" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <g id="Gift-Aid-geel" transform="translate(1.000000, 1.000000)">
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="15.5" rx="12" ry="6.5"></ellipse>
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="12" cy="10.5" rx="12" ry="6.5"></ellipse>
                                                            <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="6.5" rx="12" ry="6.5"></ellipse>
                                                            <path d="M15.8882821,7.57991632 C17.2117668,6.44518828 17.2937526,5.27029289 16.4504703,4.54728033 C15.5993799,3.81757322 14.2290462,3.81757322 13.389668,4.54728033 C13.2296006,4.68451883 13.1007658,4.83514644 12.9992596,4.99246862 C12.8977534,4.83514644 12.7689186,4.68451883 12.6088511,4.54728033 C11.7694729,3.82761506 10.3991393,3.82761506 9.55585699,4.54728033 C8.70476656,5.27029289 8.78675234,6.44518828 10.110237,7.57991632 L12.878233,9.95983264 C12.9055615,9.9832636 12.9524106,10 12.9992596,10 C13.0461086,10 13.0812453,9.9832636 13.1202862,9.95983264 L15.8882821,7.57991632 Z" id="heart" fill="#EDA52E"></path>
                                                        </g>
                                                    </g>
                                                </svg>
                                                <span>{{ alloc.giftAidExtraCount }}</span>
                                            </span>
                                            <button style="cursor:pointer;background: #2E2957; border:0;margin-left: auto;display:  flex;justify-content:  center;"
                                                class="icon" [class.fill-green]="alloc.showDetails" (click)="showAllocDetails(alloc)">

                                                <svg width="23px" height="23px" viewBox="8 8 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                    xmlns:xlink="http://www.w3.org/1999/xlink">
                                                    <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->
                                                    <desc>Created with Sketch.</desc>
                                                    <defs></defs>
                                                    <path d="M9.00761688,21.0025814 C9.53265354,26.5888828 14.2352667,30.9603199 19.9588837,30.9603199 C22.6363805,30.9603199 25.090446,30.0036964 26.9979399,28.4135896 L19.5869317,21.0025814 L9.00761688,21.0025814 Z M9,19.0025814 C9.45855668,13.6859391 13.6990295,9.4505879 19.0179464,9 L19.0179464,19.0018685 C19.0177045,19.0021045 19.0174628,19.0023406 19.0172212,19.0025769 L9,19.0025814 Z M28.4121534,26.9993761 C30.0022602,25.0918822 30.9588837,22.6378167 30.9588837,19.9603199 C30.9588837,14.2424422 26.5962091,9.54352172 21.0179464,9.01064508 L21.0179464,19.5461063 C21.0179464,19.5653854 21.0174008,19.5845372 21.0163242,19.6035469 L28.4121534,26.9993761 Z"
                                                        id="Combined-Shape" stroke="none" fill="#FFFFFF " fill-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        <table class="incasso-state-table" *ngIf="alloc.showDetails">
                                            <tr [class.incasso-state-table__row--disabled]="alloc.toProcessTotal == 0">
                                                <td>
                                                    <span class="bullet bullet--blue"></span>
                                                </td>
                                                <td>{{ "Processing" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.toProcess) }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.processedTotal == 0">
                                                <td>
                                                    <span class="bullet bullet--green"></span>
                                                </td>
                                                <td>{{ "Processed" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.processed) }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.refusedBank == 0">
                                                <td>
                                                    <span class="bullet bullet--red"></span>
                                                </td>
                                                <td>{{"CancelledByBank" | translate}}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.refusedByBank)
                                                    }}
                                                </td>
                                            </tr>
                                            <tr [class.incasso-state-table__row--disabled]="alloc.cancelByGiver == 0">
                                                <td>
                                                    <span class="bullet bullet--grey"></span>
                                                </td>
                                                <td>{{ "CancelledByUser" | translate}}</td>
                                                <td class="info-table-cell--money">{{
                                                    displayValue(alloc.cancelledByUser) }}
                                                </td>
                                            </tr>
                                            <tr class="incasso-state-table__row--em incasso-state-table__row--em_giftaid" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                <td>+</td>
                                                <td>{{ "GiftAid" | translate }}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.giftAidExtraSum) }}
                                                </td>
                                            </tr>
                                            <tr class="incasso-state-table__row--em">
                                                <td></td>
                                                <td>{{ "Text_Fee_Total" | translate}}</td>
                                                <td class="info-table-cell--money">{{ displayValue(alloc.total) }}
                                                </td>
                                            </tr>
                                        </table>
                                    </div>

                                </ng-container>
                            </ng-container>
                        </ng-container>

                    </div>
                </div>
            </aside>

        </div>
        <div class="mobile-calendar">
            <div class="mobile-calendar__header">
                <span class="mobile-calendar__header-navigation" (click)="prevPeriod()">
                    <span class="mobile-calendar__arrow mobile-calendar__arrow--left"></span>
                    <span class="hide-me">{{"PreviousWeek" | translate}}</span>
                </span>
                <span class="mobile-calendar__header-title" style="text-align: center">
                    <ng-container *ngIf="agendaView != undefined">{{ agendaView.title }}</ng-container>
                </span>
                <span class="mobile-calendar__header-navigation" style="text-align: right" (click)="nextPeriod()">
                    <span class="hide-me">{{"NextWeek" | translate}}</span>
                    <span class="mobile-calendar__arrow mobile-calendar__arrow--right"></span>

                </span>
            </div>
            <div class="mobile-calendar__body">
                <div *ngIf="this.events.length == 0 && !isLoading">
                    <p class="light lightpurple" style="text-align: center">{{"NoAllocationsAvailable" | translate }}
                    </p>
                </div>
                <table class="mobile-calendar__table" cellspacing="0" cellpadding="0">

                    <ng-container *ngFor="let event of this.events">
                        <tr class="mobile-calendar__row" (click)="openBucket(event);">
                            <td class="mobile-calendar__day">
                                <span class="mobile-calendar__calendar-icon">
                                    {{ event.start | date:'d' }}
                                </span>
                            </td>
                            <td class="mobile-calendar__period">{{"From" | translate}} {{ event.start | date:'H:mm' }}
                                {{"To"|translate}} {{ event.end | date:'H:mm'
                                }}
                            </td>
                            <td class="">
                                <span class="mobile-calendar__status mobile-calendar__status--ok" *ngIf="event.className == 'allocation'"></span>
                                <span class="mobile-calendar__status mobile-calendar__status--mixed" *ngIf="event.className == 'allocation-mixed'"></span>
                                <span class="mobile-calendar__status mobile-calendar__status--nok" *ngIf="event.className == 'money'"></span>
                            </td>
                            <td class="mobile-calendar__big-arrow">
                                <svg width="10px" height="14px" viewBox="0 0 10 14" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink">
                                    <!-- Generator: Sketch 50 (54983) - http://www.bohemiancoding.com/sketch -->
                                    <desc>Created with Sketch.</desc>
                                    <defs></defs>
                                    <g id="MOBILE-Toewijzingen" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <g id="Toewijzingen-Lijst-Copy" transform="translate(-347.000000, -276.000000)"
                                            stroke="#3D396A" stroke-width="2.4">
                                            <polyline id="Path-2" points="349 278 355 283 349 288"></polyline>
                                        </g>
                                    </g>
                                </svg>
                            </td>
                        </tr>
                        <tr *ngIf="isDialogOpen && openedMobileEventId == event.id && selectedCard">
                            <td colspan="4">
                                <div class="schedule__dialog sidebar-collection-popup mobile-calendar__popup">
                                    <div class="list-collections">
                                        <div style="margin-top: 6px;">
                                            <span *ngIf="selectedCard.Collects && selectedCard.Collects.length > 0" class="tab__element" (click)="currentTab = SelectedTab.Collects"
                                                [class.tab__element--active]="currentTab == SelectedTab.Collects">{{
                                                "Menu_Collectes" | translate}}</span>
                                            <span *ngIf="selectedCard.Fixed.length > 0" class="tab__element" (click)="currentTab = SelectedTab.Fixed"
                                                [class.tab__element--active]="currentTab == SelectedTab.Fixed">{{"FixedPoints" |
                                                translate}}</span>
                                        </div>
                                        <div *ngIf="allocLoader['show']" class="alloc-loader" [style.height.px]="selectedCard.Collects.length * 71">
                                            <svg class="circular" style="width: 65%; height: 65%" viewBox="25 25 50 50" >
                                                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10"/>
                                                </svg>
                                        </div>
                                        <ng-container *ngIf="currentTab == SelectedTab.Collects">
                                            <ng-container *ngFor="let alloc of selectedCard.Collects">
                                                <div style="padding: 15px;">
                                                    <div style="height: 40px;margin-left: 10px;display:flex;">
                                                        <div class="wrapping_inputlist" style="display: flex;">
                                                            <input (focus)="alloc.isTyping=true" (focusout)="onFocusOutOf(alloc);"
                                                                autocomplete="off" class="info-table__input" 
                                                                [class.info-table__input--false]="alloc.name == ''"
                                                                (ngModelChange)="this.filterTags($event)" type="text"
                                                                name="collectName{{alloc.collectId}}" [(ngModel)]="alloc.allocationName"
                                                                placeholder="{{ 'Collection' | translate }} {{ alloc.collectId }}">
                                                            <ul *ngIf="alloc.isTyping" class="schedule__dialog__form__list">
                                                                <li *ngFor="let item of filteredUsedTags" class="schedule__dialog__form__listitem"
                                                                    (click)="setCollectName(item, alloc)"
                                                                    [innerHTML]="item"></li>
                                                            </ul>
                                                        </div>
                                                        <span class="alloc-givt-count">
                                                            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-prefix="fas"
                                                                data-icon="user" class="svg-inline--fa fa-user fa-w-14" role="img"
                                                                viewBox="0 0 448 512">
                                                                <path fill="#2e2957" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z" /></svg>
                                                            <span>{{ alloc.numberOfTransactions }}</span>
                                                        </span>
                                                        <span class="alloc-givt-count alloc-giftAid-count" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                            <svg width="27px" height="24px" viewBox="0 0 27 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                <g id="IN5_Mijn-gegevens" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                                    <g id="Gift-Aid-geel" transform="translate(1.000000, 1.000000)">
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="15.5" rx="12" ry="6.5"></ellipse>
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="12" cy="10.5" rx="12" ry="6.5"></ellipse>
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="6.5" rx="12" ry="6.5"></ellipse>
                                                                        <path d="M15.8882821,7.57991632 C17.2117668,6.44518828 17.2937526,5.27029289 16.4504703,4.54728033 C15.5993799,3.81757322 14.2290462,3.81757322 13.389668,4.54728033 C13.2296006,4.68451883 13.1007658,4.83514644 12.9992596,4.99246862 C12.8977534,4.83514644 12.7689186,4.68451883 12.6088511,4.54728033 C11.7694729,3.82761506 10.3991393,3.82761506 9.55585699,4.54728033 C8.70476656,5.27029289 8.78675234,6.44518828 10.110237,7.57991632 L12.878233,9.95983264 C12.9055615,9.9832636 12.9524106,10 12.9992596,10 C13.0461086,10 13.0812453,9.9832636 13.1202862,9.95983264 L15.8882821,7.57991632 Z" id="heart" fill="#EDA52E"></path>
                                                                    </g>
                                                                </g>
                                                            </svg>
                                                            <span>{{ alloc.giftAidExtraCount }}</span>
                                                        </span>
                                                        <button style="cursor:pointer;background: #2E2957; border:0;margin-left: auto;display:  flex;justify-content:  center;"
                                                            class="icon" [class.fill-green]="alloc.showDetails"
                                                            (click)="showAllocDetails(alloc)">

                                                            <svg width="23px" height="23px" viewBox="8 8 23 23"
                                                                version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->
                                                                <desc>Created with Sketch.</desc>
                                                                <defs></defs>
                                                                <path d="M9.00761688,21.0025814 C9.53265354,26.5888828 14.2352667,30.9603199 19.9588837,30.9603199 C22.6363805,30.9603199 25.090446,30.0036964 26.9979399,28.4135896 L19.5869317,21.0025814 L9.00761688,21.0025814 Z M9,19.0025814 C9.45855668,13.6859391 13.6990295,9.4505879 19.0179464,9 L19.0179464,19.0018685 C19.0177045,19.0021045 19.0174628,19.0023406 19.0172212,19.0025769 L9,19.0025814 Z M28.4121534,26.9993761 C30.0022602,25.0918822 30.9588837,22.6378167 30.9588837,19.9603199 C30.9588837,14.2424422 26.5962091,9.54352172 21.0179464,9.01064508 L21.0179464,19.5461063 C21.0179464,19.5653854 21.0174008,19.5845372 21.0163242,19.6035469 L28.4121534,26.9993761 Z"
                                                                    id="Combined-Shape" stroke="none" fill="#FFFFFF "
                                                                    fill-rule="evenodd"></path>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <table class="incasso-state-table" *ngIf="alloc.showDetails">
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.toProcessTotal == 0">
                                                            <td>
                                                                <span class="bullet bullet--blue"></span>
                                                            </td>
                                                            <td>{{ "Processing" | translate }}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.toProcess) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.processedTotal == 0">
                                                            <td>
                                                                <span class="bullet bullet--green"></span>
                                                            </td>
                                                            <td>{{ "Processed" | translate }}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.processed) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.refusedBank == 0">
                                                            <td>
                                                                <span class="bullet bullet--red"></span>
                                                            </td>
                                                            <td>{{"CancelledByBank" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.refusedByBank) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.cancelByGiver == 0">
                                                            <td>
                                                                <span class="bullet bullet--grey"></span>
                                                            </td>
                                                            <td>{{ "CancelledByUser" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.cancelledByUser) }}
                                                            </td>
                                                        </tr>
                                                        <tr class="incasso-state-table__row--em incasso-state-table__row--em_giftaid"*ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                            <td>+</td>
                                                            <td>{{ "GiftAid" | translate }}</td>
                                                            <td class="info-table-cell--money">{{ displayValue(alloc.giftAidExtraSum) }}
                                                            </td>
                                                        </tr>
                                                        <tr class="incasso-state-table__row--em">
                                                            <td></td>
                                                            <td>{{ "Text_Fee_Total" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.total) }}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </ng-container>
                                            <div *ngIf="currentTab == SelectedTab.Collects" class="dialog-button-container">
                                                <button class="action-button" [class.action-button__disabled]="!allowSave" [disabled]="!allowSave" (click)="saveAllEvents()"><i class="fas fa-check"></i> 
                                                    {{ selectedCard.Collects.length == 1 ? ('SaveAllocation.one' | translate) : ('SaveAllocation.other'| translate) }}</button>
                                                <button class="action-button action-button__secundary" [class.action-button__disabled]="!allowDelete" [disabled]="!allowDelete" (click)="deleteAllEvents()"><i class="fas fa-eraser"></i> 
                                                    {{ selectedCard.Collects.length == 1 ? ('CancelAllocation.one' | translate) : ('CancelAllocation.other'| translate) }}</button>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="currentTab == SelectedTab.Fixed">
                                            <ng-container *ngFor="let alloc of selectedCard.Fixed">
                                                <div style="padding: 15px;">
                                                    <div style="height: 40px;display: flex;margin-left: 10px;">
                                                        <div class="wrapping_inputlist" style="display: flex;">
                                                            <span style="align-self: center;font-family: Avenir_Heavy; font-size: 18px;">{{alloc.allocationName}}</span>
                                                        </div>
                                                        <span class="alloc-givt-count" style="margin: 0 5px;">
                                                            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-prefix="fas"
                                                                data-icon="user" class="svg-inline--fa fa-user fa-w-14" role="img"
                                                                viewBox="0 0 448 512">
                                                                <path fill="#2e2957" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z" /></svg>
                                                            <span>{{ alloc.numberOfTransactions }}</span>
                                                        </span>
                                                        <span class="alloc-givt-count alloc-giftAid-count" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                            <svg width="27px" height="24px" viewBox="0 0 27 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                <g id="IN5_Mijn-gegevens" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                                    <g id="Gift-Aid-geel" transform="translate(1.000000, 1.000000)">
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="15.5" rx="12" ry="6.5"></ellipse>
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="12" cy="10.5" rx="12" ry="6.5"></ellipse>
                                                                        <ellipse id="Oval" stroke="#EDA52E" stroke-width="1.5" fill="#FFFFFF" cx="13" cy="6.5" rx="12" ry="6.5"></ellipse>
                                                                        <path d="M15.8882821,7.57991632 C17.2117668,6.44518828 17.2937526,5.27029289 16.4504703,4.54728033 C15.5993799,3.81757322 14.2290462,3.81757322 13.389668,4.54728033 C13.2296006,4.68451883 13.1007658,4.83514644 12.9992596,4.99246862 C12.8977534,4.83514644 12.7689186,4.68451883 12.6088511,4.54728033 C11.7694729,3.82761506 10.3991393,3.82761506 9.55585699,4.54728033 C8.70476656,5.27029289 8.78675234,6.44518828 10.110237,7.57991632 L12.878233,9.95983264 C12.9055615,9.9832636 12.9524106,10 12.9992596,10 C13.0461086,10 13.0812453,9.9832636 13.1202862,9.95983264 L15.8882821,7.57991632 Z" id="heart" fill="#EDA52E"></path>
                                                                    </g>
                                                                </g>
                                                            </svg>
                                                            <span>{{ alloc.giftAidExtraCount }}</span>
                                                        </span>
                                                        <button style="cursor:pointer;background: #2E2957; border:0;margin-left: auto;display:  flex;justify-content:  center;"
                                                            class="icon" [class.fill-green]="alloc.showDetails"
                                                            (click)="showAllocDetails(alloc)">

                                                            <svg width="23px" height="23px" viewBox="8 8 23 23"
                                                                version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->
                                                                <desc>Created with Sketch.</desc>
                                                                <defs></defs>
                                                                <path d="M9.00761688,21.0025814 C9.53265354,26.5888828 14.2352667,30.9603199 19.9588837,30.9603199 C22.6363805,30.9603199 25.090446,30.0036964 26.9979399,28.4135896 L19.5869317,21.0025814 L9.00761688,21.0025814 Z M9,19.0025814 C9.45855668,13.6859391 13.6990295,9.4505879 19.0179464,9 L19.0179464,19.0018685 C19.0177045,19.0021045 19.0174628,19.0023406 19.0172212,19.0025769 L9,19.0025814 Z M28.4121534,26.9993761 C30.0022602,25.0918822 30.9588837,22.6378167 30.9588837,19.9603199 C30.9588837,14.2424422 26.5962091,9.54352172 21.0179464,9.01064508 L21.0179464,19.5461063 C21.0179464,19.5653854 21.0174008,19.5845372 21.0163242,19.6035469 L28.4121534,26.9993761 Z"
                                                                    id="Combined-Shape" stroke="none" fill="#FFFFFF "
                                                                    fill-rule="evenodd"></path>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <table class="incasso-state-table" *ngIf="alloc.showDetails">
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.toProcess == 0">
                                                            <td>
                                                                <span class="bullet bullet--blue"></span>
                                                            </td>
                                                            <td>{{ "Processing" | translate }}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.toProcess) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.processed == 0">
                                                            <td>
                                                                <span class="bullet bullet--green"></span>
                                                            </td>
                                                            <td>{{ "Processed" | translate }}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.processed) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.refusedBank == 0">
                                                            <td>
                                                                <span class="bullet bullet--red"></span>
                                                            </td>
                                                            <td>{{"CancelledByBank" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.refusedBank) }}
                                                            </td>
                                                        </tr>
                                                        <tr [class.incasso-state-table__row--disabled]="alloc.cancelByGiver == 0">
                                                            <td>
                                                                <span class="bullet bullet--grey"></span>
                                                            </td>
                                                            <td>{{ "CancelledByUser" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.cancelByGiver) }}
                                                            </td>
                                                        </tr>
                                                        <tr class="incasso-state-table__row--em incasso-state-table__row--em_giftaid" *ngIf="userService.CurrentCollectGroup.TaxDeductionType == 'GiftAid'">
                                                            <td>+</td>
                                                            <td>{{ "GiftAid" | translate }}</td>
                                                            <td class="info-table-cell--money">{{ displayValue(alloc.giftAidExtraSum) }}
                                                            </td>
                                                        </tr>
                                                        <tr class="incasso-state-table__row--em">
                                                            <td></td>
                                                            <td>{{ "Text_Fee_Total" | translate}}</td>
                                                            <td class="info-table-cell--money">{{
                                                                displayValue(alloc.total) }}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </ng-container>

                </table>
            </div>
        </div>


        <div class="error__message" *ngIf="errorShown">
            <div class="error-wrapper">
                <div class="error__message--inner">
                    <h3>{{"OverlapError" | translate}}</h3>
                    <button class="schedule__dialog__form--submit submit-enabled no-margin" (click)="toggleError(false)">{{
                        "PW_GoBack" | translate}}
                    </button>
                </div>
            </div>
        </div>

        <my-footer></my-footer>
    </div>
</div>