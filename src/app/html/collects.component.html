<my-navigation></my-navigation>
<section class="section-collects">
    <h2>{{"Text_Collectes_Title" | translate}}</h2>
    <h3>{{"Text_Collectes_Subtitle" | translate}}</h3>
    <section class="collects-pickdate">
        <p-calendar readonlyInput="readonlyInput" inputStyleClass="date-picker-input" [(ngModel)]="dateBegin" (ngModelChange)="onDateBeginChange($event)" showTime="showTime" dateFormat="dd/mm/yy" [locale]="locale"></p-calendar>
        <p-calendar readonlyInput="readonlyInput" inputStyleClass="date-picker-input" [(ngModel)]="dateEnd"  (ngModelChange)="onDateEndChange($event)" [(minDate)]="dateBegin" showTime="showTime" dateFormat="dd/mm/yy" [locale]="locale"></p-calendar>
    </section>
    <button (click)="fetchCollect()" class="search-collect">{{"Text_Collectes_FilterButton" | translate}}</button>
    </section>
<hr class="collect-hr" id="test"/>
<section class="section-collects">
    <section *ngIf="isVisible" class="show-collect">
        <time>
            <input placeholder="Collecte naam" type="text"  value="{{collectTitle}}" class="input-collect-title" [(ngModel)]="collectName"/>
            <span *ngIf="!sameDate" class="date">{{ dateBeginRange.string }} - {{ dateEndRange.string }}</span>
            <span *ngIf="sameDate" class="date">{{ dateBeginRange.string }}</span>
            <span class="time">{{ dateBeginRange.time }} - {{ dateEndRange.time  }}</span>
            <span>{{givtServiceCost}}</span>
            <span>{{paymentProviderTransactionCost}}</span>
        </time>
        <span>{{value}}</span>
        <button class="costs"><i class="fa fa-list-alt fa-lg" aria-hidden="true"></i></button>

        <button (click)="saveCollect()" class="search-collect save-collect" [disabled]="!this.collectName || this.collectName.length == 0">Opslaan</button>
    </section>
</section>
<hr *ngIf="isVisible" class="collect-hr"/>
<h2>Opgeslagen collectes</h2>
<h3 *ngIf="savedCollects.length == 0">Er zijn nog geen opgeslagen collectes.</h3>

<section class="collects-list" *ngIf="savedCollects.length > 0">
    <section *ngFor="let collect of savedCollects" class="show-collect">
        <time>
            <span class="date">{{collect.Name}}</span>
            <span *ngIf="collect.BeginDateString == collect.EndDateString" class="date">{{collect.BeginDateString}}</span>
            <span *ngIf="collect.BeginDateString != collect.EndDateString" class="date">{{collect.BeginDateString}} - {{collect.EndDateString}}</span>
            <span class="time">{{collect.BeginTimeString}} - {{collect.EndTimeString}}</span>
        </time>
        <div class="collection-buttons">
            <button><i class="fa fa-pie-chart fa-lg" aria-hidden="true"></i></button>
            <button (click)="selectCollect(collect)"><i class="fa fa-eye fa-lg" aria-hidden="true"></i></button>
            <button (click)="deleteCollect(collect.Id)"><i class="fa fa-trash-o fa-lg" aria-hidden="true"></i></button>
        </div>
    </section>
</section>