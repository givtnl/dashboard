<my-navigation></my-navigation>
<section class="section-collects">
    <h2>{{"Text_Collectes_Title" | translate}}</h2>
    <h3>{{"Text_Collectes_Subtitle" | translate}}</h3>
    <section class="collects-pickdate">
        <p-calendar readonlyInput="readonlyInput" inputStyleClass="date-picker-input" [(ngModel)]="dateBegin" (ngModelChange)="onDateBeginChange($event)" showTime="showTime" dateFormat="dd/mm/yy" [locale]="locale"></p-calendar>
        <p-calendar readonlyInput="readonlyInput" inputStyleClass="date-picker-input" [(ngModel)]="dateEnd"  (ngModelChange)="onDateEndChange($event)" [(minDate)]="dateBegin" showTime="showTime" dateFormat="dd/mm/yy" [locale]="locale"></p-calendar>
    </section>
    <button (click)="fetchCollect()" class="search-collect">{{"Text_Collectes_FilterButton" | translate}}</button>
    <input type="text" placeholder="Collecte naam" [(ngModel)]="collectName"/>
    <button (click)="saveCollect()" class="search-collect" [disabled]="!this.collectName || this.collectName.length == 0">Opslaan</button>
    </section>
<hr class="collect-hr"/>
<section class="section-collects">
    <section *ngIf="isVisible" class="show-collect">
        <time>
            <span *ngIf="collectTitle" class="collect-title">{{collectTitle}}</span>
            <span *ngIf="!sameDate" class="date">{{ dateBeginRange.string }} - {{ dateEndRange.string }}</span>
            <span *ngIf="sameDate" class="date">{{ dateBeginRange.string }}</span>
            <span class="time">{{ dateBeginRange.time }} - {{ dateEndRange.time  }}</span>
        </time>
        <span>{{value}}</span>
    </section>
</section>
<hr *ngIf="isVisible" class="collect-hr"/>
<section class="collects-list">
    <table *ngIf="savedCollects.length > 0">
        <thead>
            <td>Collecte naam</td>
            <td>Collecte start</td>
            <td>Collecte einde</td>
            <td></td>
        </thead>
        <tr *ngFor="let collect of savedCollects">
            <td><a (click)="selectCollect(collect)">{{collect.Name}}</a></td>
            <td>{{collect.BeginDateString}}</td>
            <td>{{collect.EndDateString}}</td>
            <td><a (click)="deleteCollect(collect.Id)">verwijder</a></td>
        </tr>
    </table>
</section>